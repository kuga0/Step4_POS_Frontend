/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/node-bitmap";
exports.ids = ["vendor-chunks/node-bitmap"];
exports.modules = {

/***/ "(ssr)/./node_modules/node-bitmap/index.js":
/*!*******************************************!*\
  !*** ./node_modules/node-bitmap/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! ./lib/bitmap */ \"(ssr)/./node_modules/node-bitmap/lib/bitmap.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbm9kZS1iaXRtYXAvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUEsMEdBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvbm9kZS1iaXRtYXAvaW5kZXguanM/MDI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2JpdG1hcCcpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/node-bitmap/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/node-bitmap/lib/bitmap.js":
/*!************************************************!*\
  !*** ./node_modules/node-bitmap/lib/bitmap.js ***!
  \************************************************/
/***/ ((module, exports) => {

eval("var Bitmap = module.exports = exports = function(buffer){\n  this.buffer = buffer;\n  this.initialized = false;\n\n  this.fileHeader = null;\n  this.infoHeader = null;\n  this.coreHeader = null;\n  this.colorPalette = null;\n  this.dataPos = -1;\n};\nBitmap.prototype.CORE_TYPE_WINDOWS_V3 = 40;\nBitmap.prototype.CORE_TYPE_WINDOWS_V4 = 108;\nBitmap.prototype.CORE_TYPE_WINDOWS_V5 = 124;\nBitmap.prototype.CORE_TYPE_OS2_V1 = 12;\nBitmap.prototype.CORE_TYPE_OS2_V2 = 64;\nBitmap.prototype.BITMAPCOREHEADER = Bitmap.prototype.CORE_TYPE_OS2_V1;\nBitmap.prototype.BITMAPINFOHEADER = Bitmap.prototype.CORE_TYPE_WINDOWS_V3;\nBitmap.prototype.BITMAPINFOHEADER2 = Bitmap.prototype.CORE_TYPE_OS2_V2;\nBitmap.prototype.BITMAPV4HEADER = Bitmap.prototype.CORE_TYPE_WINDOWS_V4;\nBitmap.prototype.BITMAPV5HEADER = Bitmap.prototype.CORE_TYPE_WINDOWS_V5;\nBitmap.prototype.COMPRESSION_BI_RGB = 0;\nBitmap.prototype.COMPRESSION_BI_RLE8 = 1;\nBitmap.prototype.COMPRESSION_BI_RLE4 = 2;\nBitmap.prototype.COMPRESSION_BI_BITFIELDS = 3;\nBitmap.prototype.COMPRESSION_BI_JPEG = 4;\nBitmap.prototype.COMPRESSION_BI_PNG = 5;\nBitmap.prototype.BITCOUNT_2 = 1;\nBitmap.prototype.BITCOUNT_16 = 4;\nBitmap.prototype.BITCOUNT_256 = 8;\nBitmap.prototype.BITCOUNT_16bit = 16;\nBitmap.prototype.BITCOUNT_24bit = 24;\nBitmap.prototype.BITCOUNT_32bit = 32;\nBitmap.prototype.init = function(){\n  this.readFileHeader();\n  this.readInfoHeader();\n  this.readCoreHeader();\n  this.readColorPalette();\n\n  this.initDataPos();\n  this.initialized = true;\n};\nBitmap.prototype.checkInit = function (){\n  if(!this.initialized){\n    throw new Error('not initialized');\n  }\n  /* nop */\n};\nBitmap.prototype.isBitmap = function(){\n  this.checkInit();\n\n  if('BM' == this.fileHeader.bfType){\n    return true;\n  }\n  return false;\n};\nBitmap.prototype.getData = function (){\n  this.checkInit();\n\n  if(this.COMPRESSION_BI_RGB !== this.coreHeader.__copmression__){\n    throw new Error('not supported compression: ' + this.coreHeader.__copmression__);\n  }\n\n  var bitCount = this.coreHeader.__bitCount__;\n  var width = this.getWidth();\n  var height = this.getHeight();\n\n  var line = (width * bitCount) / 8;\n  if(0 != (line % 4)){\n    line = ((line / 4) + 1) * 4;\n  }\n\n  var rgbaData = [];\n  var dataPos = this.dataPos;\n  for(var i = 0; i < height; ++i) {\n    var pos = dataPos + (line * (height - (i + 1)));\n    var buf = this.buffer.slice(pos, pos + line);\n    var color = this.mapColor(buf, bitCount);\n    rgbaData.push(color);\n  }\n  return rgbaData;\n};\nBitmap.prototype.getWidth = function (){\n  this.checkInit();\n\n  return this.coreHeader.__width__;\n};\nBitmap.prototype.getHeight = function (){\n  this.checkInit();\n\n  return this.coreHeader.__height__;\n};\nBitmap.prototype.read = function(buf, offset, limit){\n  var read = [];\n  for(var i = offset, len = offset + limit; i < len; ++i){\n    read.push(buf.readInt8(i));\n  }\n  return new Buffer(read);\n};\nBitmap.prototype.readFileHeader = function(){\n  var bfType = this.read(this.buffer, 0, 2);\n  var bfSize = this.read(this.buffer, 2, 4);\n  var bfReserved1 = this.read(this.buffer, 6, 2);\n  var bfReserved2 = this.read(this.buffer, 8, 2);\n  var bfOffBits = this.read(this.buffer, 10, 4);\n\n  this.fileHeader = {\n    bfType: bfType.toString('ascii'),\n    _bfType: bfType,\n    bfSize: bfSize.readUInt16LE(0),\n    _bfSize: bfSize,\n    bfReserved1: 0,\n    bfReserved2: 0,\n    bfOffBits: bfOffBits.readUInt16LE(0),\n    _bfOffBits: bfOffBits\n  };\n};\nBitmap.prototype.readInfoHeader = function (){\n  this.infoHeader = this.read(this.buffer, 14, 4);\n};\nBitmap.prototype.readCoreHeader = function (){\n  var coreType = this.infoHeader.readUInt16LE(0);\n  switch(coreType){\n  case this.BITMAPCOREHEADER:\n    return this.readCoreHeaderOS2_V1();\n  case this.BITMAPINFOHEADER2:\n    return this.readCoreHeaderOS2_V2();\n  case this.BITMAPV4HEADER:\n    return this.readCoreHeaderWINDOWS_V4();\n  case this.BITMAPV5HEADER:\n    return this.readCoreHeaderWINDOWS_V5();\n  case this.BITMAPINFOHEADER:\n    return this.readCoreHeaderWINDOWS_V3();\n  default:\n    throw new Error('unknown coreType: ' + coreType);\n  }\n};\nBitmap.prototype.readCoreHeaderWINDOWS_V3 = function (){\n  var biWidth = this.read(this.buffer, 0x12, 4);\n  var biHeight = this.read(this.buffer, 0x16, 4);\n  var biPlanes = this.read(this.buffer, 0x1a, 2);\n  var biBitCount = this.read(this.buffer, 0x1c, 2);\n  var biCopmression = this.read(this.buffer, 0x1e, 4);\n  var biSizeImage = this.read(this.buffer, 0x22, 4);\n  var biXPixPerMeter = this.read(this.buffer, 0x26, 4);\n  var biYPixPerMeter = this.read(this.buffer, 0x2a, 4);\n  var biClrUsed = this.read(this.buffer, 0x2e, 4);\n  var biCirImportant = this.read(this.buffer, 0x32, 4);\n\n  this.coreHeader = {\n    __copmression__: biCopmression.readUInt16LE(0),\n    __bitCount__: biBitCount.readUInt8(0),\n    __width__: biWidth.readUInt16LE(0),\n    __height__: biHeight.readUInt16LE(0),\n    biWidth: biWidth.readUInt16LE(0),\n    _biWidth: biWidth,\n    biHeight: biHeight.readUInt16LE(0),\n    _biHeight: biHeight,\n    biPlanes: biPlanes.readUInt8(0),\n    _biPlanes: biPlanes,\n    biBitCount: biBitCount.readUInt8(0),\n    _biBitCount: biBitCount,\n    biCopmression: biCopmression.readUInt16LE(0),\n    _biCopmression: biCopmression,\n    biSizeImage: biSizeImage.readUInt16LE(0),\n    _biSizeImage: biSizeImage,\n    biXPixPerMeter: biXPixPerMeter.readUInt16LE(0),\n    _biXPixPerMeter: biXPixPerMeter,\n    biYPixPerMeter: biYPixPerMeter.readUInt16LE(0),\n    _biYPixPerMeter: biYPixPerMeter,\n    biClrUsed: biClrUsed.readUInt16LE(0),\n    _biClrUsed: biClrUsed,\n    biCirImportant: biCirImportant.readUInt16LE(0),\n    _biCirImportant: biCirImportant\n  };\n};\nBitmap.prototype.readCoreHeaderWINDOWS_V4 = function (){\n  throw new Error('not yet impl');\n  \n  var bV4Width = this.read(this.buffer, 0x12, 4);\n  var bV4Height = this.read(this.buffer, 0x16, 4);\n  var bV4Planes = this.read(this.buffer, 0x1a, 2);\n  var bV4BitCount = this.read(this.buffer, 0x1c, 2);\n  var bV4Compression = this.read(this.buffer, 0x1e, 4);\n  var bV4SizeImage = this.read(this.buffer, 0x22, 4);\n  var bV4XPelsPerMeter = this.read(this.buffer, 0x26, 4);\n  var bV4YPelsPerMeter = this.read(this.buffer, 0x2a, 4);\n  var bV4ClrUsed = this.read(this.buffer, 0x2e, 4);\n  var bV4ClrImportant = this.read(this.buffer, 0x32, 4);\n  var bV4RedMask = this.read(this.buffer, 0x36, 4);\n  var bV4GreenMask = this.read(this.buffer, 0x3a, 4);\n  var bV4BlueMask = this.read(this.buffer, 0x3e, 4);\n  var bV4AlphaMask = this.read(this.buffer, 0x42, 4);\n  var bV4CSType = this.read(this.buffer, 0x46, 4);\n  var bV4Endpoints = this.read(this.buffer, 0x6a, 36);\n  var bV4GammaRed = this.read(this.buffer, 0x6e, 4);\n  var bV4GammaGreen = this.read(this.buffer, 0x72, 4);\n  var bV4GammaBlue = this.read(this.buffer, 0x76, 4);\n\n  this.coreHeader = {\n    __compression__: bV4Compression.readUInt16LE(0),\n    __bitCount__: bV4BitCount.readUInt8(0),\n    __width__: bV4Width.readUInt16LE(0),\n    __height__: bV4Height.readUInt16LE(0),\n    bV4Width: bV4Width.readUInt16LE(0),\n    _bV4Width: bV4Width,\n    bV4Height: bV4Height.readUInt16LE(0),\n    _bV4Height: bV4Height,\n    bV4Planes: bV4Planes.readUInt8(0),\n    _bV4Planes: bV4Planes,\n    bV4BitCount: bV4BitCount.readUInt8(0),\n    _bV4BitCount: bV4BitCount,\n    bV4Compression: bV4Compression.readUInt16LE(0),\n    _bV4Compression: bV4Compression,\n    bV4SizeImage: bV4SizeImage.readUInt16LE(0),\n    _bV4SizeImage: bV4SizeImage,\n    bV4XPelsPerMeter: bV4XPelsPerMeter.readUInt16LE(0),\n    _bV4XPelsPerMeter: bV4XPelsPerMeter,\n    bV4YPelsPerMeter: bV4YPelsPerMeter.readUInt16LE(0),\n    _bV4YPelsPerMeter: bV4YPelsPerMeter,\n    bV4ClrUsed: bV4ClrUsed.readUInt16LE(0),\n    _bV4ClrUsed: bV4ClrUsed,\n    bV4ClrImportant: bV4ClrImportant.readUInt16LE(0),\n    _bV4ClrImportant: bV4ClrImportant,\n    bV4RedMask: bV4RedMask.readUInt16LE(0),\n    _bV4RedMask: bV4RedMask,\n    bV4GreenMask: bV4GreenMask.readUInt16LE(0),\n    _bV4GreenMask: bV4GreenMask,\n    bV4BlueMask: bV4BlueMask.readUInt16LE(0),\n    _bV4BlueMask: bV4BlueMask,\n    bV4AlphaMask: bV4AlphaMask.readUInt16LE(0),\n    _bV4AlphaMask: bV4AlphaMask,\n    bV4CSType: bV4CSType.readUInt16LE(0),\n    _bV4CSType: bV4CSType,\n    bV4Endpoints: null,\n    _bV4Endpoints: bV4Endpoints,\n    bV4GammaRed: bV4GammaRed.readUInt16LE(0),\n    _bV4GammaRed: bV4GammaRed,\n    bV4GammaGreen: bV4GammaGreen.readUInt16LE(0),\n    _bV4GammaGreen: bV4GammaGreen,\n    bV4GammaBlue: bV4GammaBlue.readUInt16LE(0),\n    _bV4GammaBlue: bV4GammaBlue\n  };\n};\nBitmap.prototype.readCoreHeaderWINDOWS_V5 = function (){\n  throw new Error('not yet impl');\n\n  var bV5Width = this.read(this.buffer, 0x12, 4);\n  var bV5Height = this.read(this.buffer, 0x16, 4);\n  var bV5Planes = this.read(this.buffer, 0x1a, 2);\n  var bV5BitCount = this.read(this.buffer, 0x1c, 2);\n  var bV5Compression = this.read(this.buffer, 0x1e, 4);\n  var bV5SizeImage = this.read(this.buffer, 0x22, 4);\n  var bV5XPelsPerMeter = this.read(this.buffer, 0x26, 4);\n  var bV5YPelsPerMeter = this.read(this.buffer, 0x2a, 4);\n  var bV5ClrUsed = this.read(this.buffer, 0x2e, 4);\n  var bV5ClrImportant = this.read(this.buffer, 0x32, 4);\n  var bV5RedMask = this.read(this.buffer, 0x36, 4);\n  var bV5GreenMask = this.read(this.buffer, 0x3a, 4);\n  var bV5BlueMask = this.read(this.buffer, 0x3e, 4);\n  var bV5AlphaMask = this.read(this.buffer, 0x42, 4);\n  var bV5CSType = this.read(this.buffer, 0x46, 4);\n  var bV5Endpoints = this.read(this.buffer, 0x6a, 36);\n  var bV5GammaRed = this.read(this.buffer, 0x6e, 4);\n  var bV5GammaGreen = this.read(this.buffer, 0x72, 4);\n  var bV5GammaBlue = this.read(this.buffer, 0x76, 4);\n  var bV5Intent = this.read(this.buffer, 0x7a, 4);\n  var bV5ProfileData = this.read(this.buffer, 0x7e, 4);\n  var bV5ProfileSize = this.read(this.buffer, 0x82, 4);\n  var bV5Reserved = this.read(this.buffer, 0x86, 4);\n\n  this.coreHeader = {\n    __compression__: bV5Compression.readUInt16LE(0),\n    __bitCount__: bV5BitCount.readUInt8(0),\n    __width__: bV5Width.readUInt16LE(0),\n    __height__: bV5Height.readUInt16LE(0),\n    bV5Width: bV5Width.readUInt16LE(0),\n    _bV5Width: bV5Width,\n    bV5Height: bV5Height.readUInt16LE(0),\n    _bV5Height: bV5Height,\n    bV5Planes: bV5Planes.readUInt8(0),\n    _bV5Planes: bV5Planes,\n    bV5BitCount: bV5BitCount.readUInt8(0),\n    _bV5BitCount: bV5BitCount,\n    bV5Compression: bV5Compression.readUInt16LE(0),\n    _bV5Compression: bV5Compression,\n    bV5SizeImage: bV5SizeImage.readUInt16LE(0),\n    _bV5SizeImage: bV5SizeImage,\n    bV5XPelsPerMeter: bV5XPelsPerMeter.readUInt16LE(0),\n    _bV5XPelsPerMeter: bV5XPelsPerMeter,\n    bV5YPelsPerMeter: bV5YPelsPerMeter.readUInt16LE(0),\n    _bV5YPelsPerMeter: bV5YPelsPerMeter,\n    bV5ClrUsed: bV5ClrUsed.readUInt16LE(0),\n    _bV5ClrUsed: bV5ClrUsed,\n    bV5ClrImportant: bV5ClrImportant.readUInt16LE(0),\n    _bV5ClrImportant: bV5ClrImportant,\n    bV5RedMask: bV5RedMask.readUInt16LE(0),\n    _bV5RedMask: bV5RedMask,\n    bV5GreenMask: bV5GreenMask.readUInt16LE(0),\n    _bV5GreenMask: bV5GreenMask,\n    bV5BlueMask: bV5BlueMask.readUInt16LE(0),\n    _bV5BlueMask: bV5BlueMask,\n    bV5AlphaMask: bV5AlphaMask.readUInt16LE(0),\n    _bV5AlphaMask: bV5AlphaMask,\n    bV5CSType: bV5CSType.readUInt16LE(0),\n    _bV5CSType: bV5CSType,\n    bV5Endpoints: null,\n    _bV5Endpoints: bV5Endpoints,\n    bV5GammaRed: bV5GammaRed.readUInt16LE(0),\n    _bV5GammaRed: bV5GammaRed,\n    bV5GammaGreen: bV5GammaGreen.readUInt16LE(0),\n    _bV5GammaGreen: bV5GammaGreen,\n    bV5GammaBlue: bV5GammaBlue.readUInt16LE(0),\n    _bV5GammaBlue: bV5GammaBlue,\n    bV5Intent: bV5Intent.readUInt16LE(0),\n    _bV5Intent: bV5Intent,\n    bV5ProfileData: bV5ProfileData.readUInt16LE(0),\n    _bV5ProfileData: bV5ProfileData,\n    bV5ProfileSize: bV5ProfileSize.readUInt16LE(0),\n    _bV5ProfileSize: bV5ProfileSize,\n    bV5Reserved: 0,\n    _bV5Reserved: bV5Reserved\n  };\n};\nBitmap.prototype.readCoreHeaderOS2_V1 = function (){\n  throw new Error('not yet impl');\n\n  var bcWidth = this.read(this.buffer, 0x12, 2);\n  var bcHeight = this.read(this.buffer, 0x14, 2);\n  var bcPlanes = this.read(this.buffer, 0x16, 2);\n  var bcBitCount = this.read(this.buffer, 0x18, 2);\n\n  this.coreHeader = {\n    __compression__: 0,\n    __bitCount__: bcBitCount.readUInt8(0),\n    __width__: bcWidth.readUInt8(0),\n    __height__: bcHeight.readUInt8(0),\n    bcWidth: bcWidth.readUInt8(0),\n    _bcWidth: bcWidth,\n    bcHeight: bcHeight.readUInt8(0),\n    _bcHeight: bcHeight,\n    bcPlanes: bcPlanes.readUInt8(0),\n    _bcPlanes: bcPlanes,\n    bcBitCount: bcBitCount.readUInt8(0),\n    _bcBitCount: bcBitCount\n  };\n};\nBitmap.prototype.readCoreHeaderOS2_V2 = function (){\n  throw new Error('not yet impl');\n\n  var cx = this.read(this.buffer, 0x12, 4);\n  var cy = this.read(this.buffer, 0x16, 4);\n  var cPlanes = this.read(this.buffer, 0x1a, 2);\n  var cBitCount = this.read(this.buffer, 0x1c, 2);\n  var ulCompression = this.read(this.buffer, 0x1e, 4);\n  var cbImage = this.read(this.buffer, 0x22, 4);\n  var cxResolution = this.read(this.buffer, 0x26, 4);\n  var cyResolution = this.read(this.buffer, 0x2a, 4);\n  var cclrUsed = this.read(this.buffer, 0x2e, 4);\n  var cclrImportant = this.read(this.buffer, 0x32, 4);\n  var usUnits = this.read(this.buffer, 0x36, 2);\n  var usReserved = this.read(this.buffer, 0x38, 2);\n  var usRecording = this.read(this.buffer, 0x3a, 2);\n  var usRendering = this.read(this.buffer, 0x3c, 2);\n  var cSize1 = this.read(this.buffer, 0x3e, 4);\n  var cSize2 = this.read(this.buffer, 0x42, 4);\n  var ulColorEncoding = this.read(this.buffer, 0x46, 4);\n  var ulIdentifier = this.read(this.buffer, 0x4a, 4);\n\n  this.coreHeader = {\n    __compression__: ulCompression.readUInt16LE(0),\n    __bitCount__: cBitCount.readUInt8(0),\n    __width__: cx.readUInt16LE(0),\n    __height__: cy.readUInt16LE(0),\n    cx: cx.readUInt16LE(0),\n    _cx: cx,\n    cy: cy.readUInt16LE(0),\n    _cy: cy,\n    cPlanes: cPlanes.readUInt8(0),\n    _cPlanes: cPlanes,\n    cBitCount: cBitCount.readUInt8(0),\n    _cBitCount: cBitCount,\n    ulCompression: ulCompression.readUInt16LE(0),\n    _ulCompression: ulCompression,\n    cbImage: cbImage.readUInt16LE(0),\n    _cbImage: cbImage,\n    cxResolution: cxResolution.readUInt16LE(0),\n    _cxResolution: cxResolution,\n    cyResolution: cyResolution.readUInt16LE(0),\n    _cyResolution: cyResolution,\n    cclrUsed: cclrUsed.readUInt16LE(0),\n    _cclrUsed: cclrUsed,\n    cclrImportant: cclrImportant.readUInt16LE(0),\n    _cclrImportant: cclrImportant,\n    usUnits: usUnits.readUInt8(0),\n    _usUnits: usUnits,\n    usReserved: usReserved.readUInt8(0),\n    _usReserved: usReserved,\n    usRecording: usRecording.readUInt8(0),\n    _usRecording: usRecording,\n    usRendering: usRendering.readUInt8(0),\n    _usRendering: usRendering,\n    cSize1: cSize1.readUInt16LE(0),\n    _cSize1: cSize1,\n    cSize2: cSize2.readUInt16LE(0),\n    _cSize1: cSize1,\n    ulColorEncoding: ulColorEncoding.readUInt16LE(0),\n    _ulColorEncoding: ulColorEncoding,\n    ulIdentifier: ulIdentifier.readUInt16LE(0),\n    _ulIdentifier: ulIdentifier\n  };\n};\nBitmap.prototype.readColorPalette = function (){\n  var bitCount = this.coreHeader.__bitCount__;\n  if(this.BITCOUNT_16bit == bitCount){\n    return /* nop */;\n  }\n  if(this.BITCOUNT_24bit == bitCount){\n    return /* nop */;\n  }\n  if(this.BITCOUNT_32bit == bitCount){\n    return /* nop */;\n  }\n\n  var coreType = this.infoHeader.readUInt16LE(0);\n  switch(coreType){\n  case this.BITMAPCOREHEADER:\n    return this.readColorPalette_RGBTRIPLE(bitCount, 0x1a);\n  case this.BITMAPINFOHEADER2:\n    return this.readColorPalette_RGBTRIPLE(bitCount, 0x4e);\n    case this.BITMAPV4HEADER:\n    return this.readColorPalette_RGBQUAD(bitCount, 0x7a);\n  case this.BITMAPV5HEADER:\n    return this.readColorPalette_RGBQUAD(bitCount, 0x8a);\n  case this.BITMAPINFOHEADER:\n    return this.readColorPalette_RGBQUAD(bitCount, 0x36);\n  default:\n    throw new Error('unknown colorPalette: ' + coreType + ',' + bitCount);\n  }\n};\nBitmap.prototype.readColorPalette_RGBTRIPLE = function (bitCount, startPos){\n  throw new Error('not yet impl');\n};\nBitmap.prototype.readColorPalette_RGBQUAD = function (bitCount, startPos){\n  if(this.BITCOUNT_2 == bitCount){\n    return this.readRGBQUAD(1 << this.BITCOUNT_2, startPos);\n  }\n  if(this.BITCOUNT_16 == bitCount){\n    return this.readRGBQUAD(1 << this.BITCOUNT_16, startPos);\n  }\n  if(this.BITCOUNT_256 == bitCount){\n    return this.readRGBQUAD(1 << this.BITCOUNT_256, startPos);\n  }\n  throw new Error('unknown bitCount: ' + bitCount);\n};\nBitmap.prototype.readRGBQUAD = function(count, startPos){\n  var palette = [];\n  for(var i = startPos, len = startPos + (4 * count); i < len; i += 4){\n    palette.push({\n      rgbBlue: this.read(this.buffer, i, 1).readUInt8(0),\n      rgbGreen: this.read(this.buffer, i + 1, 1).readUInt8(0),\n      rgbRed: this.read(this.buffer, i + 2, 1).readUInt8(0),\n      rgbReserved: this.read(this.buffer, i + 3, 1).readUInt8(0)\n    });\n  }\n  this.colorPalette = palette;\n};\nBitmap.prototype.initDataPos = function(){\n  var bitCount = this.coreHeader.__bitCount__;\n  var hasPalette = true;\n  if(this.BITCOUNT_16bit == bitCount){\n    hasPalette = true;\n  }\n  if(this.BITCOUNT_24bit == bitCount){\n    hasPalette = true;\n  }\n  if(this.BITCOUNT_32bit == bitCount){\n    hasPalette = true;\n  }\n\n  var coreType = this.infoHeader.readUInt16LE(0);\n  switch(coreType){\n  case this.BITMAPCOREHEADER:\n    this.dataPos = 0x1a;\n    if(hasPalette){\n      this.dataPos = this.dataPos + (3 * (1 << bitCount));\n    }\n    break;\n  case this.BITMAPINFOHEADER2:\n    this.dataPos = 0x4e;\n    if(hasPalette){\n      this.dataPos = this.dataPos + (3 * (1 << bitCount));\n    }\n    break;\n  case this.BITMAPV4HEADER:\n    this.dataPos = 0x7a;\n    if(hasPalette){\n      this.dataPos = this.dataPos + (4 * (1 << bitCount));\n    }\n    break;\n  case this.BITMAPV5HEADER:\n    this.dataPos = 0x8a;\n    if(hasPalette){\n      this.dataPos = this.dataPos + (4 * (1 << bitCount));\n    }\n  case this.BITMAPINFOHEADER:\n    this.dataPos = 0x36;\n    if(hasPalette){\n      this.dataPos = this.dataPos + (4 * (1 << bitCount));\n    }\n    break;\n  default:\n    throw new Error('unknown colorPalette: ' + coreType + ',' + bitCount);\n  }\n};\nBitmap.prototype.mapRGBA = function(r, g, b, a){\n  var hex = [];\n\n  var padHex = function(value){\n    var h = value.toString(16);\n    if(value < 0x0f){\n      return '0' + h;\n    }\n    return h;\n  };\n\n  hex.push(padHex(r));\n  hex.push(padHex(g));\n  hex.push(padHex(b));\n\n  return '#' + hex.join('');\n};\nBitmap.prototype.mapColor = function(bmpBuf, bitCount){\n  var b, g, r, a;\n  var length = bmpBuf.length;\n  var colorData = [];\n\n  if(this.BITCOUNT_2 == bitCount){\n    for(var i = 0; i < length; ++i){\n      var paletteValue = bmpBuf[i];\n      var bin = paletteValue.toString(2);\n      bin = new Array(8 - bin.length).join('0') + bin;\n\n      for(var j = 0; j < bin.length; ++j){\n        var paletteIndex = parseInt(bin.substring(j, j + 1), 10);\n        var palette = this.colorPalette[paletteIndex];\n        colorData.push(this.mapRGBA(palette.rgbRed, palette.rgbGreen, palette.rgbBlue, -1));\n      }\n    }\n    return colorData;\n  }\n  if(this.BITCOUNT_16 == bitCount){\n    for(var i = 0; i < length; i += 2){\n      var paletteHigh = bmpBuf.readUInt8(i);\n      var paletteLow = bmpBuf.readUInt8(i + 1);\n      var indexes = [paletteHigh, paletteLow];\n      indexes.forEach(function(paletteIndex){\n        var palette = this.colorPalette[paletteIndex];\n        colorData.push(this.mapRGBA(palette.rgbRed, palette.rgbGreen, palette.rgbBlue, -1));\n      });\n    }\n\n    return colorData;\n  }\n  if(this.BITCOUNT_256 == bitCount){\n    for(var i = 0; i < length; ++i){\n      var paletteIndex = bmpBuf.readUInt16LE(i);\n      var palette = this.colorPalette[paletteIndex];\n      colorData.push(this.mapRGBA(palette.rgbRed, palette.rgbGreen, palette.rgbBlue, -1));\n    }\n    return colorData;\n  }\n  if(this.BITCOUNT_16bit == bitCount){\n    for(var i = 0; i < length; i += 3){\n      b = bmpBuf[i];\n      g = bmpBuf[i + 1];\n      r = bmpBuf[i + 2];\n      colorData.push(this.mapRGBA(r, g, b, -1));\n    }\n    return colorData;\n  }\n  if(this.BITCOUNT_24bit == bitCount){\n    for(var i = 0; i < length; i += 3){\n      b = bmpBuf[i];\n      g = bmpBuf[i + 1];\n      r = bmpBuf[i + 2];\n      colorData.push(this.mapRGBA(r, g, b, -1));\n    }\n    return colorData;\n  }\n  if(this.BITCOUNT_32bit == bitCount){\n    for(var i = 0; i < length; i += 4){\n      b = bmpBuf[i];\n      g = bmpBuf[i + 1];\n      r = bmpBuf[i + 2];\n      a = bmpBuf[i + 3];\n      colorData.push(this.mapRGBA(r, g, b, a));\n    }\n    return colorData;\n  }\n  throw new Error('unknown bitCount: ' + bitCount);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbm9kZS1iaXRtYXAvbGliL2JpdG1hcC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFNBQVM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvbm9kZS1iaXRtYXAvbGliL2JpdG1hcC5qcz9lYjAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBCaXRtYXAgPSBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbihidWZmZXIpe1xuICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gIHRoaXMuZmlsZUhlYWRlciA9IG51bGw7XG4gIHRoaXMuaW5mb0hlYWRlciA9IG51bGw7XG4gIHRoaXMuY29yZUhlYWRlciA9IG51bGw7XG4gIHRoaXMuY29sb3JQYWxldHRlID0gbnVsbDtcbiAgdGhpcy5kYXRhUG9zID0gLTE7XG59O1xuQml0bWFwLnByb3RvdHlwZS5DT1JFX1RZUEVfV0lORE9XU19WMyA9IDQwO1xuQml0bWFwLnByb3RvdHlwZS5DT1JFX1RZUEVfV0lORE9XU19WNCA9IDEwODtcbkJpdG1hcC5wcm90b3R5cGUuQ09SRV9UWVBFX1dJTkRPV1NfVjUgPSAxMjQ7XG5CaXRtYXAucHJvdG90eXBlLkNPUkVfVFlQRV9PUzJfVjEgPSAxMjtcbkJpdG1hcC5wcm90b3R5cGUuQ09SRV9UWVBFX09TMl9WMiA9IDY0O1xuQml0bWFwLnByb3RvdHlwZS5CSVRNQVBDT1JFSEVBREVSID0gQml0bWFwLnByb3RvdHlwZS5DT1JFX1RZUEVfT1MyX1YxO1xuQml0bWFwLnByb3RvdHlwZS5CSVRNQVBJTkZPSEVBREVSID0gQml0bWFwLnByb3RvdHlwZS5DT1JFX1RZUEVfV0lORE9XU19WMztcbkJpdG1hcC5wcm90b3R5cGUuQklUTUFQSU5GT0hFQURFUjIgPSBCaXRtYXAucHJvdG90eXBlLkNPUkVfVFlQRV9PUzJfVjI7XG5CaXRtYXAucHJvdG90eXBlLkJJVE1BUFY0SEVBREVSID0gQml0bWFwLnByb3RvdHlwZS5DT1JFX1RZUEVfV0lORE9XU19WNDtcbkJpdG1hcC5wcm90b3R5cGUuQklUTUFQVjVIRUFERVIgPSBCaXRtYXAucHJvdG90eXBlLkNPUkVfVFlQRV9XSU5ET1dTX1Y1O1xuQml0bWFwLnByb3RvdHlwZS5DT01QUkVTU0lPTl9CSV9SR0IgPSAwO1xuQml0bWFwLnByb3RvdHlwZS5DT01QUkVTU0lPTl9CSV9STEU4ID0gMTtcbkJpdG1hcC5wcm90b3R5cGUuQ09NUFJFU1NJT05fQklfUkxFNCA9IDI7XG5CaXRtYXAucHJvdG90eXBlLkNPTVBSRVNTSU9OX0JJX0JJVEZJRUxEUyA9IDM7XG5CaXRtYXAucHJvdG90eXBlLkNPTVBSRVNTSU9OX0JJX0pQRUcgPSA0O1xuQml0bWFwLnByb3RvdHlwZS5DT01QUkVTU0lPTl9CSV9QTkcgPSA1O1xuQml0bWFwLnByb3RvdHlwZS5CSVRDT1VOVF8yID0gMTtcbkJpdG1hcC5wcm90b3R5cGUuQklUQ09VTlRfMTYgPSA0O1xuQml0bWFwLnByb3RvdHlwZS5CSVRDT1VOVF8yNTYgPSA4O1xuQml0bWFwLnByb3RvdHlwZS5CSVRDT1VOVF8xNmJpdCA9IDE2O1xuQml0bWFwLnByb3RvdHlwZS5CSVRDT1VOVF8yNGJpdCA9IDI0O1xuQml0bWFwLnByb3RvdHlwZS5CSVRDT1VOVF8zMmJpdCA9IDMyO1xuQml0bWFwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5yZWFkRmlsZUhlYWRlcigpO1xuICB0aGlzLnJlYWRJbmZvSGVhZGVyKCk7XG4gIHRoaXMucmVhZENvcmVIZWFkZXIoKTtcbiAgdGhpcy5yZWFkQ29sb3JQYWxldHRlKCk7XG5cbiAgdGhpcy5pbml0RGF0YVBvcygpO1xuICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbn07XG5CaXRtYXAucHJvdG90eXBlLmNoZWNrSW5pdCA9IGZ1bmN0aW9uICgpe1xuICBpZighdGhpcy5pbml0aWFsaXplZCl7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW5pdGlhbGl6ZWQnKTtcbiAgfVxuICAvKiBub3AgKi9cbn07XG5CaXRtYXAucHJvdG90eXBlLmlzQml0bWFwID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5jaGVja0luaXQoKTtcblxuICBpZignQk0nID09IHRoaXMuZmlsZUhlYWRlci5iZlR5cGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5CaXRtYXAucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKXtcbiAgdGhpcy5jaGVja0luaXQoKTtcblxuICBpZih0aGlzLkNPTVBSRVNTSU9OX0JJX1JHQiAhPT0gdGhpcy5jb3JlSGVhZGVyLl9fY29wbXJlc3Npb25fXyl7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdub3Qgc3VwcG9ydGVkIGNvbXByZXNzaW9uOiAnICsgdGhpcy5jb3JlSGVhZGVyLl9fY29wbXJlc3Npb25fXyk7XG4gIH1cblxuICB2YXIgYml0Q291bnQgPSB0aGlzLmNvcmVIZWFkZXIuX19iaXRDb3VudF9fO1xuICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG4gIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuXG4gIHZhciBsaW5lID0gKHdpZHRoICogYml0Q291bnQpIC8gODtcbiAgaWYoMCAhPSAobGluZSAlIDQpKXtcbiAgICBsaW5lID0gKChsaW5lIC8gNCkgKyAxKSAqIDQ7XG4gIH1cblxuICB2YXIgcmdiYURhdGEgPSBbXTtcbiAgdmFyIGRhdGFQb3MgPSB0aGlzLmRhdGFQb3M7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7ICsraSkge1xuICAgIHZhciBwb3MgPSBkYXRhUG9zICsgKGxpbmUgKiAoaGVpZ2h0IC0gKGkgKyAxKSkpO1xuICAgIHZhciBidWYgPSB0aGlzLmJ1ZmZlci5zbGljZShwb3MsIHBvcyArIGxpbmUpO1xuICAgIHZhciBjb2xvciA9IHRoaXMubWFwQ29sb3IoYnVmLCBiaXRDb3VudCk7XG4gICAgcmdiYURhdGEucHVzaChjb2xvcik7XG4gIH1cbiAgcmV0dXJuIHJnYmFEYXRhO1xufTtcbkJpdG1hcC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKXtcbiAgdGhpcy5jaGVja0luaXQoKTtcblxuICByZXR1cm4gdGhpcy5jb3JlSGVhZGVyLl9fd2lkdGhfXztcbn07XG5CaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpe1xuICB0aGlzLmNoZWNrSW5pdCgpO1xuXG4gIHJldHVybiB0aGlzLmNvcmVIZWFkZXIuX19oZWlnaHRfXztcbn07XG5CaXRtYXAucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbihidWYsIG9mZnNldCwgbGltaXQpe1xuICB2YXIgcmVhZCA9IFtdO1xuICBmb3IodmFyIGkgPSBvZmZzZXQsIGxlbiA9IG9mZnNldCArIGxpbWl0OyBpIDwgbGVuOyArK2kpe1xuICAgIHJlYWQucHVzaChidWYucmVhZEludDgoaSkpO1xuICB9XG4gIHJldHVybiBuZXcgQnVmZmVyKHJlYWQpO1xufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZEZpbGVIZWFkZXIgPSBmdW5jdGlvbigpe1xuICB2YXIgYmZUeXBlID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAwLCAyKTtcbiAgdmFyIGJmU2l6ZSA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMiwgNCk7XG4gIHZhciBiZlJlc2VydmVkMSA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgNiwgMik7XG4gIHZhciBiZlJlc2VydmVkMiA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgOCwgMik7XG4gIHZhciBiZk9mZkJpdHMgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDEwLCA0KTtcblxuICB0aGlzLmZpbGVIZWFkZXIgPSB7XG4gICAgYmZUeXBlOiBiZlR5cGUudG9TdHJpbmcoJ2FzY2lpJyksXG4gICAgX2JmVHlwZTogYmZUeXBlLFxuICAgIGJmU2l6ZTogYmZTaXplLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYmZTaXplOiBiZlNpemUsXG4gICAgYmZSZXNlcnZlZDE6IDAsXG4gICAgYmZSZXNlcnZlZDI6IDAsXG4gICAgYmZPZmZCaXRzOiBiZk9mZkJpdHMucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iZk9mZkJpdHM6IGJmT2ZmQml0c1xuICB9O1xufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZEluZm9IZWFkZXIgPSBmdW5jdGlvbiAoKXtcbiAgdGhpcy5pbmZvSGVhZGVyID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAxNCwgNCk7XG59O1xuQml0bWFwLnByb3RvdHlwZS5yZWFkQ29yZUhlYWRlciA9IGZ1bmN0aW9uICgpe1xuICB2YXIgY29yZVR5cGUgPSB0aGlzLmluZm9IZWFkZXIucmVhZFVJbnQxNkxFKDApO1xuICBzd2l0Y2goY29yZVR5cGUpe1xuICBjYXNlIHRoaXMuQklUTUFQQ09SRUhFQURFUjpcbiAgICByZXR1cm4gdGhpcy5yZWFkQ29yZUhlYWRlck9TMl9WMSgpO1xuICBjYXNlIHRoaXMuQklUTUFQSU5GT0hFQURFUjI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvcmVIZWFkZXJPUzJfVjIoKTtcbiAgY2FzZSB0aGlzLkJJVE1BUFY0SEVBREVSOlxuICAgIHJldHVybiB0aGlzLnJlYWRDb3JlSGVhZGVyV0lORE9XU19WNCgpO1xuICBjYXNlIHRoaXMuQklUTUFQVjVIRUFERVI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvcmVIZWFkZXJXSU5ET1dTX1Y1KCk7XG4gIGNhc2UgdGhpcy5CSVRNQVBJTkZPSEVBREVSOlxuICAgIHJldHVybiB0aGlzLnJlYWRDb3JlSGVhZGVyV0lORE9XU19WMygpO1xuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb3JlVHlwZTogJyArIGNvcmVUeXBlKTtcbiAgfVxufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZENvcmVIZWFkZXJXSU5ET1dTX1YzID0gZnVuY3Rpb24gKCl7XG4gIHZhciBiaVdpZHRoID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDEyLCA0KTtcbiAgdmFyIGJpSGVpZ2h0ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDE2LCA0KTtcbiAgdmFyIGJpUGxhbmVzID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDFhLCAyKTtcbiAgdmFyIGJpQml0Q291bnQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MWMsIDIpO1xuICB2YXIgYmlDb3BtcmVzc2lvbiA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxZSwgNCk7XG4gIHZhciBiaVNpemVJbWFnZSA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyMiwgNCk7XG4gIHZhciBiaVhQaXhQZXJNZXRlciA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyNiwgNCk7XG4gIHZhciBiaVlQaXhQZXJNZXRlciA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyYSwgNCk7XG4gIHZhciBiaUNsclVzZWQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MmUsIDQpO1xuICB2YXIgYmlDaXJJbXBvcnRhbnQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MzIsIDQpO1xuXG4gIHRoaXMuY29yZUhlYWRlciA9IHtcbiAgICBfX2NvcG1yZXNzaW9uX186IGJpQ29wbXJlc3Npb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF9fYml0Q291bnRfXzogYmlCaXRDb3VudC5yZWFkVUludDgoMCksXG4gICAgX193aWR0aF9fOiBiaVdpZHRoLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfX2hlaWdodF9fOiBiaUhlaWdodC5yZWFkVUludDE2TEUoMCksXG4gICAgYmlXaWR0aDogYmlXaWR0aC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JpV2lkdGg6IGJpV2lkdGgsXG4gICAgYmlIZWlnaHQ6IGJpSGVpZ2h0LnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYmlIZWlnaHQ6IGJpSGVpZ2h0LFxuICAgIGJpUGxhbmVzOiBiaVBsYW5lcy5yZWFkVUludDgoMCksXG4gICAgX2JpUGxhbmVzOiBiaVBsYW5lcyxcbiAgICBiaUJpdENvdW50OiBiaUJpdENvdW50LnJlYWRVSW50OCgwKSxcbiAgICBfYmlCaXRDb3VudDogYmlCaXRDb3VudCxcbiAgICBiaUNvcG1yZXNzaW9uOiBiaUNvcG1yZXNzaW9uLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYmlDb3BtcmVzc2lvbjogYmlDb3BtcmVzc2lvbixcbiAgICBiaVNpemVJbWFnZTogYmlTaXplSW1hZ2UucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iaVNpemVJbWFnZTogYmlTaXplSW1hZ2UsXG4gICAgYmlYUGl4UGVyTWV0ZXI6IGJpWFBpeFBlck1ldGVyLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYmlYUGl4UGVyTWV0ZXI6IGJpWFBpeFBlck1ldGVyLFxuICAgIGJpWVBpeFBlck1ldGVyOiBiaVlQaXhQZXJNZXRlci5yZWFkVUludDE2TEUoMCksXG4gICAgX2JpWVBpeFBlck1ldGVyOiBiaVlQaXhQZXJNZXRlcixcbiAgICBiaUNsclVzZWQ6IGJpQ2xyVXNlZC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JpQ2xyVXNlZDogYmlDbHJVc2VkLFxuICAgIGJpQ2lySW1wb3J0YW50OiBiaUNpckltcG9ydGFudC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JpQ2lySW1wb3J0YW50OiBiaUNpckltcG9ydGFudFxuICB9O1xufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZENvcmVIZWFkZXJXSU5ET1dTX1Y0ID0gZnVuY3Rpb24gKCl7XG4gIHRocm93IG5ldyBFcnJvcignbm90IHlldCBpbXBsJyk7XG4gIFxuICB2YXIgYlY0V2lkdGggPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MTIsIDQpO1xuICB2YXIgYlY0SGVpZ2h0ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDE2LCA0KTtcbiAgdmFyIGJWNFBsYW5lcyA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxYSwgMik7XG4gIHZhciBiVjRCaXRDb3VudCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxYywgMik7XG4gIHZhciBiVjRDb21wcmVzc2lvbiA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxZSwgNCk7XG4gIHZhciBiVjRTaXplSW1hZ2UgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MjIsIDQpO1xuICB2YXIgYlY0WFBlbHNQZXJNZXRlciA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyNiwgNCk7XG4gIHZhciBiVjRZUGVsc1Blck1ldGVyID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDJhLCA0KTtcbiAgdmFyIGJWNENsclVzZWQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MmUsIDQpO1xuICB2YXIgYlY0Q2xySW1wb3J0YW50ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDMyLCA0KTtcbiAgdmFyIGJWNFJlZE1hc2sgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MzYsIDQpO1xuICB2YXIgYlY0R3JlZW5NYXNrID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDNhLCA0KTtcbiAgdmFyIGJWNEJsdWVNYXNrID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDNlLCA0KTtcbiAgdmFyIGJWNEFscGhhTWFzayA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg0MiwgNCk7XG4gIHZhciBiVjRDU1R5cGUgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4NDYsIDQpO1xuICB2YXIgYlY0RW5kcG9pbnRzID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDZhLCAzNik7XG4gIHZhciBiVjRHYW1tYVJlZCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg2ZSwgNCk7XG4gIHZhciBiVjRHYW1tYUdyZWVuID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDcyLCA0KTtcbiAgdmFyIGJWNEdhbW1hQmx1ZSA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg3NiwgNCk7XG5cbiAgdGhpcy5jb3JlSGVhZGVyID0ge1xuICAgIF9fY29tcHJlc3Npb25fXzogYlY0Q29tcHJlc3Npb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF9fYml0Q291bnRfXzogYlY0Qml0Q291bnQucmVhZFVJbnQ4KDApLFxuICAgIF9fd2lkdGhfXzogYlY0V2lkdGgucmVhZFVJbnQxNkxFKDApLFxuICAgIF9faGVpZ2h0X186IGJWNEhlaWdodC5yZWFkVUludDE2TEUoMCksXG4gICAgYlY0V2lkdGg6IGJWNFdpZHRoLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0V2lkdGg6IGJWNFdpZHRoLFxuICAgIGJWNEhlaWdodDogYlY0SGVpZ2h0LnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0SGVpZ2h0OiBiVjRIZWlnaHQsXG4gICAgYlY0UGxhbmVzOiBiVjRQbGFuZXMucmVhZFVJbnQ4KDApLFxuICAgIF9iVjRQbGFuZXM6IGJWNFBsYW5lcyxcbiAgICBiVjRCaXRDb3VudDogYlY0Qml0Q291bnQucmVhZFVJbnQ4KDApLFxuICAgIF9iVjRCaXRDb3VudDogYlY0Qml0Q291bnQsXG4gICAgYlY0Q29tcHJlc3Npb246IGJWNENvbXByZXNzaW9uLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0Q29tcHJlc3Npb246IGJWNENvbXByZXNzaW9uLFxuICAgIGJWNFNpemVJbWFnZTogYlY0U2l6ZUltYWdlLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0U2l6ZUltYWdlOiBiVjRTaXplSW1hZ2UsXG4gICAgYlY0WFBlbHNQZXJNZXRlcjogYlY0WFBlbHNQZXJNZXRlci5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNFhQZWxzUGVyTWV0ZXI6IGJWNFhQZWxzUGVyTWV0ZXIsXG4gICAgYlY0WVBlbHNQZXJNZXRlcjogYlY0WVBlbHNQZXJNZXRlci5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNFlQZWxzUGVyTWV0ZXI6IGJWNFlQZWxzUGVyTWV0ZXIsXG4gICAgYlY0Q2xyVXNlZDogYlY0Q2xyVXNlZC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNENsclVzZWQ6IGJWNENsclVzZWQsXG4gICAgYlY0Q2xySW1wb3J0YW50OiBiVjRDbHJJbXBvcnRhbnQucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjRDbHJJbXBvcnRhbnQ6IGJWNENsckltcG9ydGFudCxcbiAgICBiVjRSZWRNYXNrOiBiVjRSZWRNYXNrLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0UmVkTWFzazogYlY0UmVkTWFzayxcbiAgICBiVjRHcmVlbk1hc2s6IGJWNEdyZWVuTWFzay5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNEdyZWVuTWFzazogYlY0R3JlZW5NYXNrLFxuICAgIGJWNEJsdWVNYXNrOiBiVjRCbHVlTWFzay5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNEJsdWVNYXNrOiBiVjRCbHVlTWFzayxcbiAgICBiVjRBbHBoYU1hc2s6IGJWNEFscGhhTWFzay5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNEFscGhhTWFzazogYlY0QWxwaGFNYXNrLFxuICAgIGJWNENTVHlwZTogYlY0Q1NUeXBlLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY0Q1NUeXBlOiBiVjRDU1R5cGUsXG4gICAgYlY0RW5kcG9pbnRzOiBudWxsLFxuICAgIF9iVjRFbmRwb2ludHM6IGJWNEVuZHBvaW50cyxcbiAgICBiVjRHYW1tYVJlZDogYlY0R2FtbWFSZWQucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjRHYW1tYVJlZDogYlY0R2FtbWFSZWQsXG4gICAgYlY0R2FtbWFHcmVlbjogYlY0R2FtbWFHcmVlbi5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNEdhbW1hR3JlZW46IGJWNEdhbW1hR3JlZW4sXG4gICAgYlY0R2FtbWFCbHVlOiBiVjRHYW1tYUJsdWUucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjRHYW1tYUJsdWU6IGJWNEdhbW1hQmx1ZVxuICB9O1xufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZENvcmVIZWFkZXJXSU5ET1dTX1Y1ID0gZnVuY3Rpb24gKCl7XG4gIHRocm93IG5ldyBFcnJvcignbm90IHlldCBpbXBsJyk7XG5cbiAgdmFyIGJWNVdpZHRoID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDEyLCA0KTtcbiAgdmFyIGJWNUhlaWdodCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxNiwgNCk7XG4gIHZhciBiVjVQbGFuZXMgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MWEsIDIpO1xuICB2YXIgYlY1Qml0Q291bnQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MWMsIDIpO1xuICB2YXIgYlY1Q29tcHJlc3Npb24gPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MWUsIDQpO1xuICB2YXIgYlY1U2l6ZUltYWdlID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDIyLCA0KTtcbiAgdmFyIGJWNVhQZWxzUGVyTWV0ZXIgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MjYsIDQpO1xuICB2YXIgYlY1WVBlbHNQZXJNZXRlciA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyYSwgNCk7XG4gIHZhciBiVjVDbHJVc2VkID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDJlLCA0KTtcbiAgdmFyIGJWNUNsckltcG9ydGFudCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzMiwgNCk7XG4gIHZhciBiVjVSZWRNYXNrID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDM2LCA0KTtcbiAgdmFyIGJWNUdyZWVuTWFzayA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzYSwgNCk7XG4gIHZhciBiVjVCbHVlTWFzayA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzZSwgNCk7XG4gIHZhciBiVjVBbHBoYU1hc2sgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4NDIsIDQpO1xuICB2YXIgYlY1Q1NUeXBlID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDQ2LCA0KTtcbiAgdmFyIGJWNUVuZHBvaW50cyA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg2YSwgMzYpO1xuICB2YXIgYlY1R2FtbWFSZWQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4NmUsIDQpO1xuICB2YXIgYlY1R2FtbWFHcmVlbiA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg3MiwgNCk7XG4gIHZhciBiVjVHYW1tYUJsdWUgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4NzYsIDQpO1xuICB2YXIgYlY1SW50ZW50ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDdhLCA0KTtcbiAgdmFyIGJWNVByb2ZpbGVEYXRhID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDdlLCA0KTtcbiAgdmFyIGJWNVByb2ZpbGVTaXplID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDgyLCA0KTtcbiAgdmFyIGJWNVJlc2VydmVkID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDg2LCA0KTtcblxuICB0aGlzLmNvcmVIZWFkZXIgPSB7XG4gICAgX19jb21wcmVzc2lvbl9fOiBiVjVDb21wcmVzc2lvbi5yZWFkVUludDE2TEUoMCksXG4gICAgX19iaXRDb3VudF9fOiBiVjVCaXRDb3VudC5yZWFkVUludDgoMCksXG4gICAgX193aWR0aF9fOiBiVjVXaWR0aC5yZWFkVUludDE2TEUoMCksXG4gICAgX19oZWlnaHRfXzogYlY1SGVpZ2h0LnJlYWRVSW50MTZMRSgwKSxcbiAgICBiVjVXaWR0aDogYlY1V2lkdGgucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVXaWR0aDogYlY1V2lkdGgsXG4gICAgYlY1SGVpZ2h0OiBiVjVIZWlnaHQucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVIZWlnaHQ6IGJWNUhlaWdodCxcbiAgICBiVjVQbGFuZXM6IGJWNVBsYW5lcy5yZWFkVUludDgoMCksXG4gICAgX2JWNVBsYW5lczogYlY1UGxhbmVzLFxuICAgIGJWNUJpdENvdW50OiBiVjVCaXRDb3VudC5yZWFkVUludDgoMCksXG4gICAgX2JWNUJpdENvdW50OiBiVjVCaXRDb3VudCxcbiAgICBiVjVDb21wcmVzc2lvbjogYlY1Q29tcHJlc3Npb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVDb21wcmVzc2lvbjogYlY1Q29tcHJlc3Npb24sXG4gICAgYlY1U2l6ZUltYWdlOiBiVjVTaXplSW1hZ2UucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVTaXplSW1hZ2U6IGJWNVNpemVJbWFnZSxcbiAgICBiVjVYUGVsc1Blck1ldGVyOiBiVjVYUGVsc1Blck1ldGVyLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1WFBlbHNQZXJNZXRlcjogYlY1WFBlbHNQZXJNZXRlcixcbiAgICBiVjVZUGVsc1Blck1ldGVyOiBiVjVZUGVsc1Blck1ldGVyLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1WVBlbHNQZXJNZXRlcjogYlY1WVBlbHNQZXJNZXRlcixcbiAgICBiVjVDbHJVc2VkOiBiVjVDbHJVc2VkLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1Q2xyVXNlZDogYlY1Q2xyVXNlZCxcbiAgICBiVjVDbHJJbXBvcnRhbnQ6IGJWNUNsckltcG9ydGFudC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNUNsckltcG9ydGFudDogYlY1Q2xySW1wb3J0YW50LFxuICAgIGJWNVJlZE1hc2s6IGJWNVJlZE1hc2sucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVSZWRNYXNrOiBiVjVSZWRNYXNrLFxuICAgIGJWNUdyZWVuTWFzazogYlY1R3JlZW5NYXNrLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1R3JlZW5NYXNrOiBiVjVHcmVlbk1hc2ssXG4gICAgYlY1Qmx1ZU1hc2s6IGJWNUJsdWVNYXNrLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1Qmx1ZU1hc2s6IGJWNUJsdWVNYXNrLFxuICAgIGJWNUFscGhhTWFzazogYlY1QWxwaGFNYXNrLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1QWxwaGFNYXNrOiBiVjVBbHBoYU1hc2ssXG4gICAgYlY1Q1NUeXBlOiBiVjVDU1R5cGUucmVhZFVJbnQxNkxFKDApLFxuICAgIF9iVjVDU1R5cGU6IGJWNUNTVHlwZSxcbiAgICBiVjVFbmRwb2ludHM6IG51bGwsXG4gICAgX2JWNUVuZHBvaW50czogYlY1RW5kcG9pbnRzLFxuICAgIGJWNUdhbW1hUmVkOiBiVjVHYW1tYVJlZC5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNUdhbW1hUmVkOiBiVjVHYW1tYVJlZCxcbiAgICBiVjVHYW1tYUdyZWVuOiBiVjVHYW1tYUdyZWVuLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1R2FtbWFHcmVlbjogYlY1R2FtbWFHcmVlbixcbiAgICBiVjVHYW1tYUJsdWU6IGJWNUdhbW1hQmx1ZS5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNUdhbW1hQmx1ZTogYlY1R2FtbWFCbHVlLFxuICAgIGJWNUludGVudDogYlY1SW50ZW50LnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1SW50ZW50OiBiVjVJbnRlbnQsXG4gICAgYlY1UHJvZmlsZURhdGE6IGJWNVByb2ZpbGVEYXRhLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfYlY1UHJvZmlsZURhdGE6IGJWNVByb2ZpbGVEYXRhLFxuICAgIGJWNVByb2ZpbGVTaXplOiBiVjVQcm9maWxlU2l6ZS5yZWFkVUludDE2TEUoMCksXG4gICAgX2JWNVByb2ZpbGVTaXplOiBiVjVQcm9maWxlU2l6ZSxcbiAgICBiVjVSZXNlcnZlZDogMCxcbiAgICBfYlY1UmVzZXJ2ZWQ6IGJWNVJlc2VydmVkXG4gIH07XG59O1xuQml0bWFwLnByb3RvdHlwZS5yZWFkQ29yZUhlYWRlck9TMl9WMSA9IGZ1bmN0aW9uICgpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ25vdCB5ZXQgaW1wbCcpO1xuXG4gIHZhciBiY1dpZHRoID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDEyLCAyKTtcbiAgdmFyIGJjSGVpZ2h0ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDE0LCAyKTtcbiAgdmFyIGJjUGxhbmVzID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDE2LCAyKTtcbiAgdmFyIGJjQml0Q291bnQgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MTgsIDIpO1xuXG4gIHRoaXMuY29yZUhlYWRlciA9IHtcbiAgICBfX2NvbXByZXNzaW9uX186IDAsXG4gICAgX19iaXRDb3VudF9fOiBiY0JpdENvdW50LnJlYWRVSW50OCgwKSxcbiAgICBfX3dpZHRoX186IGJjV2lkdGgucmVhZFVJbnQ4KDApLFxuICAgIF9faGVpZ2h0X186IGJjSGVpZ2h0LnJlYWRVSW50OCgwKSxcbiAgICBiY1dpZHRoOiBiY1dpZHRoLnJlYWRVSW50OCgwKSxcbiAgICBfYmNXaWR0aDogYmNXaWR0aCxcbiAgICBiY0hlaWdodDogYmNIZWlnaHQucmVhZFVJbnQ4KDApLFxuICAgIF9iY0hlaWdodDogYmNIZWlnaHQsXG4gICAgYmNQbGFuZXM6IGJjUGxhbmVzLnJlYWRVSW50OCgwKSxcbiAgICBfYmNQbGFuZXM6IGJjUGxhbmVzLFxuICAgIGJjQml0Q291bnQ6IGJjQml0Q291bnQucmVhZFVJbnQ4KDApLFxuICAgIF9iY0JpdENvdW50OiBiY0JpdENvdW50XG4gIH07XG59O1xuQml0bWFwLnByb3RvdHlwZS5yZWFkQ29yZUhlYWRlck9TMl9WMiA9IGZ1bmN0aW9uICgpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ25vdCB5ZXQgaW1wbCcpO1xuXG4gIHZhciBjeCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxMiwgNCk7XG4gIHZhciBjeSA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxNiwgNCk7XG4gIHZhciBjUGxhbmVzID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDFhLCAyKTtcbiAgdmFyIGNCaXRDb3VudCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgxYywgMik7XG4gIHZhciB1bENvbXByZXNzaW9uID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDFlLCA0KTtcbiAgdmFyIGNiSW1hZ2UgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MjIsIDQpO1xuICB2YXIgY3hSZXNvbHV0aW9uID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDI2LCA0KTtcbiAgdmFyIGN5UmVzb2x1dGlvbiA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyYSwgNCk7XG4gIHZhciBjY2xyVXNlZCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgyZSwgNCk7XG4gIHZhciBjY2xySW1wb3J0YW50ID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDMyLCA0KTtcbiAgdmFyIHVzVW5pdHMgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4MzYsIDIpO1xuICB2YXIgdXNSZXNlcnZlZCA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzOCwgMik7XG4gIHZhciB1c1JlY29yZGluZyA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzYSwgMik7XG4gIHZhciB1c1JlbmRlcmluZyA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHgzYywgMik7XG4gIHZhciBjU2l6ZTEgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4M2UsIDQpO1xuICB2YXIgY1NpemUyID0gdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCAweDQyLCA0KTtcbiAgdmFyIHVsQ29sb3JFbmNvZGluZyA9IHRoaXMucmVhZCh0aGlzLmJ1ZmZlciwgMHg0NiwgNCk7XG4gIHZhciB1bElkZW50aWZpZXIgPSB0aGlzLnJlYWQodGhpcy5idWZmZXIsIDB4NGEsIDQpO1xuXG4gIHRoaXMuY29yZUhlYWRlciA9IHtcbiAgICBfX2NvbXByZXNzaW9uX186IHVsQ29tcHJlc3Npb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF9fYml0Q291bnRfXzogY0JpdENvdW50LnJlYWRVSW50OCgwKSxcbiAgICBfX3dpZHRoX186IGN4LnJlYWRVSW50MTZMRSgwKSxcbiAgICBfX2hlaWdodF9fOiBjeS5yZWFkVUludDE2TEUoMCksXG4gICAgY3g6IGN4LnJlYWRVSW50MTZMRSgwKSxcbiAgICBfY3g6IGN4LFxuICAgIGN5OiBjeS5yZWFkVUludDE2TEUoMCksXG4gICAgX2N5OiBjeSxcbiAgICBjUGxhbmVzOiBjUGxhbmVzLnJlYWRVSW50OCgwKSxcbiAgICBfY1BsYW5lczogY1BsYW5lcyxcbiAgICBjQml0Q291bnQ6IGNCaXRDb3VudC5yZWFkVUludDgoMCksXG4gICAgX2NCaXRDb3VudDogY0JpdENvdW50LFxuICAgIHVsQ29tcHJlc3Npb246IHVsQ29tcHJlc3Npb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF91bENvbXByZXNzaW9uOiB1bENvbXByZXNzaW9uLFxuICAgIGNiSW1hZ2U6IGNiSW1hZ2UucmVhZFVJbnQxNkxFKDApLFxuICAgIF9jYkltYWdlOiBjYkltYWdlLFxuICAgIGN4UmVzb2x1dGlvbjogY3hSZXNvbHV0aW9uLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfY3hSZXNvbHV0aW9uOiBjeFJlc29sdXRpb24sXG4gICAgY3lSZXNvbHV0aW9uOiBjeVJlc29sdXRpb24ucmVhZFVJbnQxNkxFKDApLFxuICAgIF9jeVJlc29sdXRpb246IGN5UmVzb2x1dGlvbixcbiAgICBjY2xyVXNlZDogY2NsclVzZWQucmVhZFVJbnQxNkxFKDApLFxuICAgIF9jY2xyVXNlZDogY2NsclVzZWQsXG4gICAgY2NsckltcG9ydGFudDogY2NsckltcG9ydGFudC5yZWFkVUludDE2TEUoMCksXG4gICAgX2NjbHJJbXBvcnRhbnQ6IGNjbHJJbXBvcnRhbnQsXG4gICAgdXNVbml0czogdXNVbml0cy5yZWFkVUludDgoMCksXG4gICAgX3VzVW5pdHM6IHVzVW5pdHMsXG4gICAgdXNSZXNlcnZlZDogdXNSZXNlcnZlZC5yZWFkVUludDgoMCksXG4gICAgX3VzUmVzZXJ2ZWQ6IHVzUmVzZXJ2ZWQsXG4gICAgdXNSZWNvcmRpbmc6IHVzUmVjb3JkaW5nLnJlYWRVSW50OCgwKSxcbiAgICBfdXNSZWNvcmRpbmc6IHVzUmVjb3JkaW5nLFxuICAgIHVzUmVuZGVyaW5nOiB1c1JlbmRlcmluZy5yZWFkVUludDgoMCksXG4gICAgX3VzUmVuZGVyaW5nOiB1c1JlbmRlcmluZyxcbiAgICBjU2l6ZTE6IGNTaXplMS5yZWFkVUludDE2TEUoMCksXG4gICAgX2NTaXplMTogY1NpemUxLFxuICAgIGNTaXplMjogY1NpemUyLnJlYWRVSW50MTZMRSgwKSxcbiAgICBfY1NpemUxOiBjU2l6ZTEsXG4gICAgdWxDb2xvckVuY29kaW5nOiB1bENvbG9yRW5jb2RpbmcucmVhZFVJbnQxNkxFKDApLFxuICAgIF91bENvbG9yRW5jb2Rpbmc6IHVsQ29sb3JFbmNvZGluZyxcbiAgICB1bElkZW50aWZpZXI6IHVsSWRlbnRpZmllci5yZWFkVUludDE2TEUoMCksXG4gICAgX3VsSWRlbnRpZmllcjogdWxJZGVudGlmaWVyXG4gIH07XG59O1xuQml0bWFwLnByb3RvdHlwZS5yZWFkQ29sb3JQYWxldHRlID0gZnVuY3Rpb24gKCl7XG4gIHZhciBiaXRDb3VudCA9IHRoaXMuY29yZUhlYWRlci5fX2JpdENvdW50X187XG4gIGlmKHRoaXMuQklUQ09VTlRfMTZiaXQgPT0gYml0Q291bnQpe1xuICAgIHJldHVybiAvKiBub3AgKi87XG4gIH1cbiAgaWYodGhpcy5CSVRDT1VOVF8yNGJpdCA9PSBiaXRDb3VudCl7XG4gICAgcmV0dXJuIC8qIG5vcCAqLztcbiAgfVxuICBpZih0aGlzLkJJVENPVU5UXzMyYml0ID09IGJpdENvdW50KXtcbiAgICByZXR1cm4gLyogbm9wICovO1xuICB9XG5cbiAgdmFyIGNvcmVUeXBlID0gdGhpcy5pbmZvSGVhZGVyLnJlYWRVSW50MTZMRSgwKTtcbiAgc3dpdGNoKGNvcmVUeXBlKXtcbiAgY2FzZSB0aGlzLkJJVE1BUENPUkVIRUFERVI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvbG9yUGFsZXR0ZV9SR0JUUklQTEUoYml0Q291bnQsIDB4MWEpO1xuICBjYXNlIHRoaXMuQklUTUFQSU5GT0hFQURFUjI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvbG9yUGFsZXR0ZV9SR0JUUklQTEUoYml0Q291bnQsIDB4NGUpO1xuICAgIGNhc2UgdGhpcy5CSVRNQVBWNEhFQURFUjpcbiAgICByZXR1cm4gdGhpcy5yZWFkQ29sb3JQYWxldHRlX1JHQlFVQUQoYml0Q291bnQsIDB4N2EpO1xuICBjYXNlIHRoaXMuQklUTUFQVjVIRUFERVI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvbG9yUGFsZXR0ZV9SR0JRVUFEKGJpdENvdW50LCAweDhhKTtcbiAgY2FzZSB0aGlzLkJJVE1BUElORk9IRUFERVI6XG4gICAgcmV0dXJuIHRoaXMucmVhZENvbG9yUGFsZXR0ZV9SR0JRVUFEKGJpdENvdW50LCAweDM2KTtcbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29sb3JQYWxldHRlOiAnICsgY29yZVR5cGUgKyAnLCcgKyBiaXRDb3VudCk7XG4gIH1cbn07XG5CaXRtYXAucHJvdG90eXBlLnJlYWRDb2xvclBhbGV0dGVfUkdCVFJJUExFID0gZnVuY3Rpb24gKGJpdENvdW50LCBzdGFydFBvcyl7XG4gIHRocm93IG5ldyBFcnJvcignbm90IHlldCBpbXBsJyk7XG59O1xuQml0bWFwLnByb3RvdHlwZS5yZWFkQ29sb3JQYWxldHRlX1JHQlFVQUQgPSBmdW5jdGlvbiAoYml0Q291bnQsIHN0YXJ0UG9zKXtcbiAgaWYodGhpcy5CSVRDT1VOVF8yID09IGJpdENvdW50KXtcbiAgICByZXR1cm4gdGhpcy5yZWFkUkdCUVVBRCgxIDw8IHRoaXMuQklUQ09VTlRfMiwgc3RhcnRQb3MpO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMTYgPT0gYml0Q291bnQpe1xuICAgIHJldHVybiB0aGlzLnJlYWRSR0JRVUFEKDEgPDwgdGhpcy5CSVRDT1VOVF8xNiwgc3RhcnRQb3MpO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMjU2ID09IGJpdENvdW50KXtcbiAgICByZXR1cm4gdGhpcy5yZWFkUkdCUVVBRCgxIDw8IHRoaXMuQklUQ09VTlRfMjU2LCBzdGFydFBvcyk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJpdENvdW50OiAnICsgYml0Q291bnQpO1xufTtcbkJpdG1hcC5wcm90b3R5cGUucmVhZFJHQlFVQUQgPSBmdW5jdGlvbihjb3VudCwgc3RhcnRQb3Mpe1xuICB2YXIgcGFsZXR0ZSA9IFtdO1xuICBmb3IodmFyIGkgPSBzdGFydFBvcywgbGVuID0gc3RhcnRQb3MgKyAoNCAqIGNvdW50KTsgaSA8IGxlbjsgaSArPSA0KXtcbiAgICBwYWxldHRlLnB1c2goe1xuICAgICAgcmdiQmx1ZTogdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCBpLCAxKS5yZWFkVUludDgoMCksXG4gICAgICByZ2JHcmVlbjogdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCBpICsgMSwgMSkucmVhZFVJbnQ4KDApLFxuICAgICAgcmdiUmVkOiB0aGlzLnJlYWQodGhpcy5idWZmZXIsIGkgKyAyLCAxKS5yZWFkVUludDgoMCksXG4gICAgICByZ2JSZXNlcnZlZDogdGhpcy5yZWFkKHRoaXMuYnVmZmVyLCBpICsgMywgMSkucmVhZFVJbnQ4KDApXG4gICAgfSk7XG4gIH1cbiAgdGhpcy5jb2xvclBhbGV0dGUgPSBwYWxldHRlO1xufTtcbkJpdG1hcC5wcm90b3R5cGUuaW5pdERhdGFQb3MgPSBmdW5jdGlvbigpe1xuICB2YXIgYml0Q291bnQgPSB0aGlzLmNvcmVIZWFkZXIuX19iaXRDb3VudF9fO1xuICB2YXIgaGFzUGFsZXR0ZSA9IHRydWU7XG4gIGlmKHRoaXMuQklUQ09VTlRfMTZiaXQgPT0gYml0Q291bnQpe1xuICAgIGhhc1BhbGV0dGUgPSB0cnVlO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMjRiaXQgPT0gYml0Q291bnQpe1xuICAgIGhhc1BhbGV0dGUgPSB0cnVlO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMzJiaXQgPT0gYml0Q291bnQpe1xuICAgIGhhc1BhbGV0dGUgPSB0cnVlO1xuICB9XG5cbiAgdmFyIGNvcmVUeXBlID0gdGhpcy5pbmZvSGVhZGVyLnJlYWRVSW50MTZMRSgwKTtcbiAgc3dpdGNoKGNvcmVUeXBlKXtcbiAgY2FzZSB0aGlzLkJJVE1BUENPUkVIRUFERVI6XG4gICAgdGhpcy5kYXRhUG9zID0gMHgxYTtcbiAgICBpZihoYXNQYWxldHRlKXtcbiAgICAgIHRoaXMuZGF0YVBvcyA9IHRoaXMuZGF0YVBvcyArICgzICogKDEgPDwgYml0Q291bnQpKTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIGNhc2UgdGhpcy5CSVRNQVBJTkZPSEVBREVSMjpcbiAgICB0aGlzLmRhdGFQb3MgPSAweDRlO1xuICAgIGlmKGhhc1BhbGV0dGUpe1xuICAgICAgdGhpcy5kYXRhUG9zID0gdGhpcy5kYXRhUG9zICsgKDMgKiAoMSA8PCBiaXRDb3VudCkpO1xuICAgIH1cbiAgICBicmVhaztcbiAgY2FzZSB0aGlzLkJJVE1BUFY0SEVBREVSOlxuICAgIHRoaXMuZGF0YVBvcyA9IDB4N2E7XG4gICAgaWYoaGFzUGFsZXR0ZSl7XG4gICAgICB0aGlzLmRhdGFQb3MgPSB0aGlzLmRhdGFQb3MgKyAoNCAqICgxIDw8IGJpdENvdW50KSk7XG4gICAgfVxuICAgIGJyZWFrO1xuICBjYXNlIHRoaXMuQklUTUFQVjVIRUFERVI6XG4gICAgdGhpcy5kYXRhUG9zID0gMHg4YTtcbiAgICBpZihoYXNQYWxldHRlKXtcbiAgICAgIHRoaXMuZGF0YVBvcyA9IHRoaXMuZGF0YVBvcyArICg0ICogKDEgPDwgYml0Q291bnQpKTtcbiAgICB9XG4gIGNhc2UgdGhpcy5CSVRNQVBJTkZPSEVBREVSOlxuICAgIHRoaXMuZGF0YVBvcyA9IDB4MzY7XG4gICAgaWYoaGFzUGFsZXR0ZSl7XG4gICAgICB0aGlzLmRhdGFQb3MgPSB0aGlzLmRhdGFQb3MgKyAoNCAqICgxIDw8IGJpdENvdW50KSk7XG4gICAgfVxuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb2xvclBhbGV0dGU6ICcgKyBjb3JlVHlwZSArICcsJyArIGJpdENvdW50KTtcbiAgfVxufTtcbkJpdG1hcC5wcm90b3R5cGUubWFwUkdCQSA9IGZ1bmN0aW9uKHIsIGcsIGIsIGEpe1xuICB2YXIgaGV4ID0gW107XG5cbiAgdmFyIHBhZEhleCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICB2YXIgaCA9IHZhbHVlLnRvU3RyaW5nKDE2KTtcbiAgICBpZih2YWx1ZSA8IDB4MGYpe1xuICAgICAgcmV0dXJuICcwJyArIGg7XG4gICAgfVxuICAgIHJldHVybiBoO1xuICB9O1xuXG4gIGhleC5wdXNoKHBhZEhleChyKSk7XG4gIGhleC5wdXNoKHBhZEhleChnKSk7XG4gIGhleC5wdXNoKHBhZEhleChiKSk7XG5cbiAgcmV0dXJuICcjJyArIGhleC5qb2luKCcnKTtcbn07XG5CaXRtYXAucHJvdG90eXBlLm1hcENvbG9yID0gZnVuY3Rpb24oYm1wQnVmLCBiaXRDb3VudCl7XG4gIHZhciBiLCBnLCByLCBhO1xuICB2YXIgbGVuZ3RoID0gYm1wQnVmLmxlbmd0aDtcbiAgdmFyIGNvbG9yRGF0YSA9IFtdO1xuXG4gIGlmKHRoaXMuQklUQ09VTlRfMiA9PSBiaXRDb3VudCl7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKXtcbiAgICAgIHZhciBwYWxldHRlVmFsdWUgPSBibXBCdWZbaV07XG4gICAgICB2YXIgYmluID0gcGFsZXR0ZVZhbHVlLnRvU3RyaW5nKDIpO1xuICAgICAgYmluID0gbmV3IEFycmF5KDggLSBiaW4ubGVuZ3RoKS5qb2luKCcwJykgKyBiaW47XG5cbiAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBiaW4ubGVuZ3RoOyArK2ope1xuICAgICAgICB2YXIgcGFsZXR0ZUluZGV4ID0gcGFyc2VJbnQoYmluLnN1YnN0cmluZyhqLCBqICsgMSksIDEwKTtcbiAgICAgICAgdmFyIHBhbGV0dGUgPSB0aGlzLmNvbG9yUGFsZXR0ZVtwYWxldHRlSW5kZXhdO1xuICAgICAgICBjb2xvckRhdGEucHVzaCh0aGlzLm1hcFJHQkEocGFsZXR0ZS5yZ2JSZWQsIHBhbGV0dGUucmdiR3JlZW4sIHBhbGV0dGUucmdiQmx1ZSwgLTEpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yRGF0YTtcbiAgfVxuICBpZih0aGlzLkJJVENPVU5UXzE2ID09IGJpdENvdW50KXtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDIpe1xuICAgICAgdmFyIHBhbGV0dGVIaWdoID0gYm1wQnVmLnJlYWRVSW50OChpKTtcbiAgICAgIHZhciBwYWxldHRlTG93ID0gYm1wQnVmLnJlYWRVSW50OChpICsgMSk7XG4gICAgICB2YXIgaW5kZXhlcyA9IFtwYWxldHRlSGlnaCwgcGFsZXR0ZUxvd107XG4gICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24ocGFsZXR0ZUluZGV4KXtcbiAgICAgICAgdmFyIHBhbGV0dGUgPSB0aGlzLmNvbG9yUGFsZXR0ZVtwYWxldHRlSW5kZXhdO1xuICAgICAgICBjb2xvckRhdGEucHVzaCh0aGlzLm1hcFJHQkEocGFsZXR0ZS5yZ2JSZWQsIHBhbGV0dGUucmdiR3JlZW4sIHBhbGV0dGUucmdiQmx1ZSwgLTEpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xvckRhdGE7XG4gIH1cbiAgaWYodGhpcy5CSVRDT1VOVF8yNTYgPT0gYml0Q291bnQpe1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSl7XG4gICAgICB2YXIgcGFsZXR0ZUluZGV4ID0gYm1wQnVmLnJlYWRVSW50MTZMRShpKTtcbiAgICAgIHZhciBwYWxldHRlID0gdGhpcy5jb2xvclBhbGV0dGVbcGFsZXR0ZUluZGV4XTtcbiAgICAgIGNvbG9yRGF0YS5wdXNoKHRoaXMubWFwUkdCQShwYWxldHRlLnJnYlJlZCwgcGFsZXR0ZS5yZ2JHcmVlbiwgcGFsZXR0ZS5yZ2JCbHVlLCAtMSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JEYXRhO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMTZiaXQgPT0gYml0Q291bnQpe1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMyl7XG4gICAgICBiID0gYm1wQnVmW2ldO1xuICAgICAgZyA9IGJtcEJ1ZltpICsgMV07XG4gICAgICByID0gYm1wQnVmW2kgKyAyXTtcbiAgICAgIGNvbG9yRGF0YS5wdXNoKHRoaXMubWFwUkdCQShyLCBnLCBiLCAtMSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JEYXRhO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMjRiaXQgPT0gYml0Q291bnQpe1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMyl7XG4gICAgICBiID0gYm1wQnVmW2ldO1xuICAgICAgZyA9IGJtcEJ1ZltpICsgMV07XG4gICAgICByID0gYm1wQnVmW2kgKyAyXTtcbiAgICAgIGNvbG9yRGF0YS5wdXNoKHRoaXMubWFwUkdCQShyLCBnLCBiLCAtMSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JEYXRhO1xuICB9XG4gIGlmKHRoaXMuQklUQ09VTlRfMzJiaXQgPT0gYml0Q291bnQpe1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gNCl7XG4gICAgICBiID0gYm1wQnVmW2ldO1xuICAgICAgZyA9IGJtcEJ1ZltpICsgMV07XG4gICAgICByID0gYm1wQnVmW2kgKyAyXTtcbiAgICAgIGEgPSBibXBCdWZbaSArIDNdO1xuICAgICAgY29sb3JEYXRhLnB1c2godGhpcy5tYXBSR0JBKHIsIGcsIGIsIGEpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yRGF0YTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gYml0Q291bnQ6ICcgKyBiaXRDb3VudCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/node-bitmap/lib/bitmap.js\n");

/***/ })

};
;